{% extends 'base.html' %}

{% set title = 'FYP-22-S2-03' %}
{% block navbar %}
  {% include 'navbar.html' %}
{% endblock %}
{% block content %}
  <h1 class="bg-secondary p-2 text-white">{{ company }}</h1>
  <button type="button" class="btn btn-success">Forecast stock</button>
  <h2>Historical data</h2>
  <div class="container">
    <div class="table-responsive" style="max-height: 300px;">
      {{ table|safe }}
    </div>
    <button type="button" class="btn btn-primary">View graph</button>
  </div>
  <h2>News</h2>
  <div class="container">
    <table class="table table-striped table-hover table-bordered">
      <tr>
        <th>Time</th>
        <th>Headline</th>
      </tr>
    {% for article in news %}
      <tr>
        <td>{{ article.providerPublishTime }}</td>
        <td><a href="{{ article.link }}">{{ article.title }}</a><br></td>
      </tr>
    {% endfor %}
    </table>
  </div>
{#  <canvas id="candlestickChart"></canvas>#}
{#  <script>#}
{#    var ctx = document.getElementById("candlestickChart").getContext("2d");#}
{#    var candlestickChart = new Chart(ctx, {#}
{#        type: "line",#}
{#        data: {#}
{#            labels: {{ table.first }},#}
{#            datasets: [#}
{#                {#}
{#                    label: "Data points",#}
{#                    data: {{ table }},#}
{#                    fill:false,#}
{#                    borderColor: "rgb(75, 192, 192)",#}
{#                    lineTension: 0.1#}
{#                }#}
{#            ]#}
{#        },#}
{#        options: {#}
{#            responsive: false#}
{#        }#}
{#    });#}
{#  </script>#}
{% endblock %}
